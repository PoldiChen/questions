# question-os
some questions and answers for operate system.

#### 1. 进程和线程的区别？
项 | 进程 | 线程
-|-|-
调度 | 系统分配调度的一个基本单位，至少拥有一个线程 | 一个使用资源的基本单位
资源 | 拥有独立的地址空间，资源共享复杂，同步简单 | 共享进程资源，共享简单
占用内存 | 占用内存多，切换复杂，CPU利用率低 | 占用内存少，切换简单，CPU利用率高
相互影响 | 进程间不会相互影响 | 一个线程挂掉可能导致整个进程挂掉

#### 2. 并发和并行的区别？
单核机器上，多进程并不是真正的多个进程同时执行，而是通过CPU的时间分片，操作系统在多个进程间快速切换，达到一种同时执行的效果，这种称为并发。<br>
多核CPU能够实现真正的多个进程并行执行，这种称为并行。<br>

#### 3.同步、异步、阻塞、非阻塞？
同步和异步是针对应用程序和内核的交互而言的。同步需要主动去询问，异步中内核在IO事件发生的时候通知应用程序。<br>
阻塞和非阻塞是针对进程在访问数据的时候，根据IO操作的就绪状态来采取不同的方式，读取或者写入操作函数的实现方式。<br>

同步和异步是目的，阻塞和非阻塞是实现方式。<br>

同步：用户进程触发IO操作并等待或者轮询的查看IO操作是否就绪。<br>
异步：用户进程触发IO操作后做自己的事情，IO操作完成的时候会得到IO操作的通知，异步的特点就是通知。<br>
使用异步IO时，Java将IO读写委托给操作系统处理，将数据缓冲区地址和大小传给操作系统。

阻塞：当试图对文件描述符进行读写时，如果没有可读，或者暂时不可写，程序就进入等待状态，直到有东西可读或可写为止。<br>
非阻塞：如果没有可读或者暂时不可写，读写函数马上返回，而不会等待。<br>

同步阻塞IO（Java BIO）：服务端实现方式为一个连接一个线程，客户端有连接请求时服务端就要启动一个线程处理。<br>
同步非阻塞IO（Java NIO）：服务端实现方式为一个请求一个线程，

#### 4. Linux和Windows的区别？
项 | Linux | Windows
-|-|-
大小写 | 区分大小写 | dos命令不区分大小写
文件 | 所有内容以文件的形式保存，包括用户、硬件 | 文件和硬件无关
扩展名 | 无扩展名的概念 | 用扩展名区分文件

#### 5. Linux有哪些通信方式？

#### 6. Linux的共享内存如何实现？

#### 7. 什么是Docker？什么是容器，和虚拟机的区别？
容器：容器就是将软件打包成标准化单元，用于开发、交付和部署。<br>
(1) 容器镜像是轻量级的、可执行的独立软件包，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置<br>
(2) 容器化软件适用于基于Linux和Windows的应用，在任何环境中都能始终如一的运行<br>
(3) 容器赋予了软件独立性，免受外在环境差异的影响<br>

虚拟机：带环境安装的一种解决方案，在一个操作系统里面运行另一个操作系统，对底层系统来说虚拟机就是一个文件，不需要了就可以删除。<br>
(1) 占用资源多<br>
独占一部分内存和磁盘空间，一个操作系统一般只支持几十个虚拟机。<br>
(2) 冗余步骤多<br>
完整的操作系统，一些系统级别的操作步骤无法跳过，比如用户登录<br>
(3) 启动慢

Docker将应用程序与该程序的依赖，打包在一个文件里，运行这个文件，就会生成一个虚拟容器。程序在这个容器里运行，和在真实的物理机运行一样。

Docker的三个核心概念：<br>
**镜像（Image）**<br>
Docker镜像是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的配置参数（如匿名卷、环境变量、用户）。镜像不包含任何动态数据，其内容在构建后不会改变。<br>
和Windows的ISO镜像相比，Docker镜像是分层的，可复用的，而不是一堆文件叠在一起。<br>
**容器（Container）**<br>
镜像运行时的实体。镜像和容器的关系，就像面向对象编程的类和实例的关系。镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、暂停、删除、停止等。<br>
容器的实质是进程，但与直接在宿主机执行的进程不同，容器进程运行于属于自己的独立的命名空间。<br>
**仓库（Repository）**<br>
集中存放镜像文件的地方<br>

Docker的优点：<br>
(1) 多环境的部署切换<br>
能够将开发环境的代码和环境直接迁移到线上环境<br>
(2) 复杂环境一键配置<br>
对环境配置做封装，生成镜像，供他人使用<br>
(3) 持续集成单元测试<br>
(4) 同应用多版本隔离、文件隔离<br>
(5) 云构建<br>
(6) 省钱

#### 8. 进程间的通信方式？
(1) 管道（pipe）：管道是一种半双工的通信方式，数据只能单向流动，而且只能在具有亲缘关系的进程间使用。进程间的亲缘关系通常是指父子进程关系。<br>
(2) 有名管道（named pipe）：有名管道也是半双工的通信方式，但它允许无亲缘关系的进程间通信。<br>
(3) 信号量（semophore）：信号量是一个计数器，可以用来控制多个进程对共享资源的访问。常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程的线程之间的同步手段。<br>
(4) 消息队列（message queue）：消息队列是由消息的链表，存放在内核中并由消息队列标识符标识。消息队列克服了信号量传递信息少、管道只能承载无格式字节流及缓冲区大小受限等缺点。<br>
(5) 信号（signal）：一种比较复杂的通信方式，用于通知接收进程某个事件已经发生。<br>
(6) 共享内存（shared memory）：映射一段能被其他进程访问的内存，这段内存由一个进程创建，但多个进程都可以访问。共享内存是最快的IPC方式，针对其他进程间通信方式运行效率低而设计的，往往与其他进程间通信方式，如信号量，配合使用。<br>
(7) 套接字（socket）：可用于不同机器间的进程通信。

#### 9. 使用位运算判断一个数是不是2的幂？
x & (x - 1) == 0<br>
2的幂的二进制表示是1000...000，减去1表示为0111...111，进行与运算结果为0.

#### 10. 计算-2>>1，-2>>>1
\>>带符号右移，负数符号位补1，正数符号位补0；>>>无符号右移，正负数符号位都补0。<br>
负数的二进制表示为正数取反加一，-2表示为1111 1111 1111 1111 1111 1111 1111 1110，带符号右移一位后为1111 1111 1111 1111 1111 1111 1111 1111，十进制为-1。<br>
-2无符号右移一位后为0111 1111 1111 1111 1111 1111 1111 1111，即2^31-1

#### 11. 虚拟内存和物理内存？换页？
操作系统的内存分为物理内存和虚拟内存，虚拟内存一般使用的是页面映射文件，即硬盘中的某些特殊的文件，操作系统负责页面文件内容的读写，这个过程叫做“页面中断/切换”。



































#### 100.

# question-architecture-microservice
some questions and answers for micro service.

#### 1. 什么是微服务架构？微服务架构和SOA的区别？
微服务架构是一种架构模式，提倡将单一应用程序划分为一组小的服务，服务之间互相协调、配合，为用户提供最终价值。<br>
每个服务运行在独立的进程中，服务之间采用轻量级（通常是基于HTTP的REST API）的通信机制进行交互。<br>
每个服务围绕具体业务进行构建，并且能够独立的部署到生产环境或测试环境。

微服务架构的特性：
- (1) 单一职责
- (2) 轻量级通信
- (3) 独立
- (4) 进程隔离

SOA，面向服务的架构。<br>
微服务架构强调业务系统需要彻底的组件化和服务化。<br>
传统SOA架构比较强调比较重的ESB企业服务总线。

项 | SOA | 微服务
-|-|-
服务粒度 | 粗 | 细
服务通信 | 重量级，ESB | 轻量级，如HTTP，Restful
服务交付 | 慢 | 快
应用场景 | 企业级 | 互联网

#### 2. 微服务架构的优势？
- 单个功能简单
- 松耦合
- 降低开发难度
- 增强扩展性
- 便于敏捷开发

#### 3. 微服务架构存在的问题及其解决方案？
调用链路复杂（划分不宜过细、Spring Cloud Sleuth分布式链路监控）<br>
部署、监控困难（Docker、DevOps技术）<br>
增加网络通信开销<br>
集成测试困难（自动化测试）<br>
分布式问题（分布式缓存、分布式事务、分布式锁、分布式session）<br>
进程间通讯和故障处理变得复杂（RPC框架，比如Dubbo可以支持多种协议通信，SpringCloud可以支持Restful调用）<br>
服务数量多，测试、部署、监控变得困难（Docker、DevOps技术、自动化运维工具）<br>

#### 4. 服务雪崩、服务降级、服务熔断的关系？
- 服务雪崩：多个服务的调用链中，下游服务不可用，上游服务的请求被阻塞，耗尽线程资源，也变得不可用，往上游蔓延，最终导致整条链路的服务都失败。<br>
- 服务熔断：下游服务不可用或响应慢时，上游服务为了保证自身服务的可用性，不再继续调用目标服务，直接返回，快速释放资源，如果目标服务好转则继续调用。多用断路器模式，如Hystrix。<br>
- 服务降级：如上述熔断，或者调用本地的一些降级逻辑，避免卡顿，迅速返回给用户。<br>

降级的方式有多种：开关降级、限流降级、熔断降级。<br>
服务熔断是降级的一种方式。

#### 5. Service Mesh, 服务网格？
Istio<br>
Envoy<br>
Linkerd<br>
蚂蚁金服SOFAMesh+SOFAMosn<br>
新浪微博WeiboMesh









#### 100.
